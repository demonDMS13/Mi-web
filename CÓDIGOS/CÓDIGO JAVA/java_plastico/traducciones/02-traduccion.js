// Simple loader que busca traducciones en un JSON local y aplica por data-key
(function(){
  const translations = {
    es: {
      plastico_title: 'Proyecto Bioplásticos',
      plastico_principal: 'Proyecto: Elaboración de Bioplásticos Caseros',
      fund_tit: 'Fundamento teórico',
      fund_parrafo1: 'Los bioplásticos son materiales similares a los plásticos convencionales, pero elaborados a partir de fuentes renovables y biodegradables como almidón (maicena), leche, gelatina o agar, en lugar de derivados del petróleo. Estos materiales contienen polímeros naturales, que son moléculas grandes formadas por unidades más pequeñas llamadas monómeros. Al calentarlos con agua, vinagre o glicerina, los polímeros se reorganizan químicamente formando una red sólida y flexible.',
      fund_parrafo2: 'El proceso consiste en romper parcialmente las estructuras naturales (por el calor o por acción ácida) y reunirlas de nuevo para crear un material moldeable, que al enfriarse o secarse adquiere consistencia plástica. Los bioplásticos tienen gran valor ambiental porque se degradan fácilmente, no generan microplásticos peligrosos y pueden reemplazar parcialmente al plástico tradicional en productos simples, envoltorios o decoraciones.',
      caption_1: 'Bioplástico casero',
      caption_2: 'Combinando ingredientes',
      ecuacion: 'Polímero natural (almidón o proteína) + Calor + Ácido (vinagre) + Plastificante (glicerina) → Red sólida y flexible (bioplástico)',
      ecua_tit: 'Ecuación general simplificada',
      obj_gen: 'Objetivo general',
      obj_esp: 'Objetivos específicos',
      obj_esp1: 'Reconocer el papel de los polímeros naturales en la creación de materiales plásticos.',
      obj_esp2: 'Comparar la resistencia, flexibilidad y textura de los bioplásticos obtenidos con diferentes ingredientes.',
      obj_esp3: 'Analizar los efectos del calor, del ácido y del plastificante sobre los polímeros.',
      obj_esp4: 'Promover la conciencia ambiental sobre alternativas biodegradables al plástico tradicional.',
      conceptos_tit: 'Conceptos clave',
      conceptos_tit_1: 'Polímero',
      conceptos_tit_2: 'Monómero',
      conceptos_tit_3: 'Plastificante',
      conceptos_tit_4: 'Coagulación',
      conceptos_tit_5: 'Bioplástico',
      conceptos_tit_6: 'Biodegradable',
      conceptos_tit_7: 'Red polimérica',
      conceptos_def_1: 'Molécula grande compuesta por unidades repetidas llamadas monómeros.',
      conceptos_def_2: 'Unidad básica que se repite para formar un polímero.',
      conceptos_def_3: 'Sustancia (como la glicerina) que da flexibilidad al material.',
      conceptos_def_4: 'Proceso en el que las proteínas se agrupan y separan del líquido.',
      conceptos_def_5: 'Material plástico hecho con componentes naturales y biodegradable.',
      conceptos_def_6: 'Capaz de descomponerse naturalmente sin contaminar el ambiente.',
      conceptos_def_7: 'Estructura tridimensional que se forma cuando los polímeros se enlazan entre sí.',
      mat_tit: 'Materiales utilizados',
      l2_1: 'Maicena (almidón de maíz)',
      l2_2: 'Leche entera',
      l2_3: 'Gelatina sin sabor',
      l2_4: 'Agar-agar',
      l2_5: 'Miel',
      l2_6: 'Agua',
      l2_7: 'Vinagre',
      l2_8: 'Glicerina o aceite vegetal',
      l2_9: 'Recipiente resistente al calor',
      l2_10: 'Cuchara medidora',
      l2_11: 'Fuente de calor',
      l2_12: 'Moldes o superficie plana',
      l2_13: 'Guantes y gafas de seguridad',
      proc_tit: 'Procedimiento general',
      proc_tit_1: 'Preparación de la mezcla',
      proc_tit_2: 'Aplicación de calor',
      proc_tit_3: 'Moldeado y secado',
      proc_tit_4: 'Evaluación',
      res_tit: 'Resultados obtenidos (resumen)',
      res_tit_p: 'Se observaron diferencias notables según el ingrediente: las mezclas con glicerina fueron más elásticas; las con aceite resultaron más frágiles; las basadas en proteínas (leche, gelatina) fueron más resistentes; las con azúcares (miel) conservaron humedad y se contaminaron.',
      obs_gen: 'Observaciones generales',
      obs_gen1: 'Las mezclas con glicerina mostraron mejor elasticidad.',
      obs_gen2: 'El secado lento y parejo evitó grietas.',
      obs_gen3: 'Los ingredientes azucarados fomentaron crecimiento microbiano al retener humedad.',
      obj_gen_p: 'Comprender el proceso de elaboración de bioplásticos biodegradables utilizando diferentes materiales naturales (maicena, leche, gelatina, agar y miel), analizando su comportamiento físico y químico durante la formación del material.',
      analisis_tit: 'Análisis científico',
      analisis_p: "Explicación del comportamiento de almidones y proteínas, la acción del calor y la función de la glicerina como plastificante. (Resumen incluido arriba.)",
      conc_tit: 'Conclusiones',
      conc_1: 'Es posible elaborar bioplásticos biodegradables con materiales naturales.',
      conc_2: 'La glicerina mejora flexibilidad; la proteína genera mayor resistencia.',
      conc_3: 'Tiempo y temperatura de secado son críticos.',
      conc_4: 'Proyecto promueve alternativas sostenibles al plástico convencional.',
  colaboradores_tit: 'Colaboradores',
  footer_text: 'Instituto de Desarrollo - Proyecto Educativo 2025'
    },
    en: {
      plastico_title: 'Bioplastics Project',
      plastico_principal: 'Project: Homemade Bioplastics',
      fund_tit: 'Theoretical background',
      fund_parrafo1: 'Bioplastics are materials similar to conventional plastics, but made from renewable and biodegradable sources such as starch (cornstarch), milk, gelatin, or agar, instead of petroleum derivatives. These materials contain natural polymers, which are large molecules formed by smaller units called monomers. When heated with water, vinegar, or glycerin, the polymers chemically reorganize to form a solid and flexible network.',
      fund_parrafo2: 'The process involves partially breaking down the natural structures (through heat or acidic action) and reassembling them to create a moldable material, which, when cooled or dried, acquires plastic consistency. Bioplastics have great environmental value because they decompose easily, do not generate dangerous microplastics, and can partially replace traditional plastic in simple products, packaging, or decorations.',
      caption_1: 'Homemade bioplastic',
      caption_2: 'Combining ingredients',
      ecua_tit: 'General simplified equation',
      ecuacion: 'Natural polymer (starch or protein) + Heat + Acid (vinegar) + Plasticizer (glycerin) → Solid and flexible network (bioplastic)',
      obj_gen: 'General objective',
      obj_gen_p: 'Understand the process of producing biodegradable bioplastics using different natural materials (cornstarch, milk, gelatin, agar, and honey), analyzing their physical and chemical behavior during the formation of the material.',
      obj_esp: 'Specific objectives',
      obj_esp1: 'Recognize the role of natural polymers in the creation of plastic materials.',
      obj_esp2: 'Compare the resistance, flexibility, and texture of bioplastics obtained with different ingredients.',
      obj_esp3: 'Analyze the effects of heat, acid, and plasticizer on the polymers.',
      obj_esp4: 'Promote environmental awareness about biodegradable alternatives to traditional plastic.',
      conceptos_tit: 'Key concepts',
      conceptos_tit_1: 'Polymer',
      conceptos_tit_2: 'Monomer',
      conceptos_tit_3: 'Plasticizer',
      conceptos_tit_4: 'Coagulation',
      conceptos_tit_5: 'Bioplastic',
      conceptos_tit_6: 'Biodegradable',
      conceptos_tit_7: 'Polymeric network',
      conceptos_def_1: 'Large molecule composed of repeated units called monomers.',
      conceptos_def_2: 'Basic unit that repeats to form a polymer.',
      conceptos_def_3: 'Substance (such as glycerin) that gives flexibility to the material.',
      conceptos_def_4: 'Process in which proteins group together and separate from the liquid.',
      conceptos_def_5: 'Plastic material made with natural components and biodegradable.',
      conceptos_def_6: 'Capable of decomposing naturally without contaminating the environment.',
      conceptos_def_7: 'Three-dimensional structure formed when polymers bond together.',
      mat_tit: 'Materials used',
      l2_1: 'Cornstarch',
      l2_2: 'Whole milk',
      l2_3: 'Unflavored gelatin',
      l2_4: 'Agar-agar',
      l2_5: 'Honey',
      l2_6: 'Water',
      l2_7: 'Vinegar',
      l2_8: 'Glycerin or vegetable oil',
      l2_9: 'Heat-resistant container',
      l2_10: 'Measuring spoon',
      l2_11: 'Heat source',
      l2_12: 'Molds or flat surface',
      l2_13: 'Gloves and safety glasses',
      proc_tit: 'General procedure',
      proc_tit_1: 'Preparation of the mixture',
      proc_tit_2: 'Application of heat',
      proc_tit_3: 'Molding and drying',
      proc_tit_4: 'Evaluation',
      res_tit: 'Results obtained (summary)',
      res_tit_p: 'Notable differences were observed depending on the ingredient: mixtures with glycerin were more elastic; those with oil were more fragile; those based on proteins (milk, gelatin) were more resistant; those with sugars (honey) retained moisture and became contaminated.',
      obs_gen: 'General observations',
      obs_gen1: 'Mixtures with glycerin showed better elasticity.',
      obs_gen2: 'Slow and even drying prevented cracks.',
      obs_gen3: 'Sugary ingredients promoted microbial growth by retaining moisture.',
      analisis_tit: 'Scientific analysis',
      conc_tit: 'Conclusions',
      conc_1: 'It is possible to produce biodegradable bioplastics from natural materials.',
      conc_2: 'Glycerin improves flexibility; protein provides greater strength.',
      conc_3: 'Drying time and temperature are critical.',
      conc_4: 'Project promotes sustainable alternatives to conventional plastic.',
      colaboradores_tit: 'Collaborators',
      footer_text: 'Institute of Development - Educational Project 2025',
      volver_ppal: 'Back to main page'
    }
  };

  function apply(lang){
    document.querySelectorAll('[data-key]').forEach(el=>{
      const k = el.getAttribute('data-key');
      const v = translations[lang] && translations[lang][k];
      if(v) el.innerText = v;
    });
  }

  document.addEventListener('DOMContentLoaded', ()=>{
    const lang = localStorage.getItem('idioma') || 'es';
    apply(lang);
    const btnEn = document.getElementById('EN');
    const btnEs = document.getElementById('SP');
    if(btnEn) btnEn.addEventListener('click', ()=>{ apply('en'); localStorage.setItem('idioma','en'); });
    if(btnEs) btnEs.addEventListener('click', ()=>{ apply('es'); localStorage.setItem('idioma','es'); });
  });
})();
